# –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å JWT —Ç–æ–∫–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** https://admin.b2broundtable.ru/

---

## ‚úÖ –°—Ç–∞—Ç—É—Å

**Frontend –æ–±–Ω–æ–≤–ª–µ–Ω:**
- ‚úÖ –ù–æ–≤—ã–π build —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `/var/www/vending-admin/`
- ‚úÖ Nginx –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω
- ‚úÖ –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω: `HTTP/2 200`
- ‚úÖ JS —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª–µ–Ω: `index-BZ6kS_L0.js`

**–í—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ https://admin.b2broundtable.ru/**

---

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä DevTools (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://admin.b2broundtable.ru/ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12 –∏–ª–∏ Cmd+Option+I)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Application** (–∏–ª–∏ **–•—Ä–∞–Ω–∏–ª–∏—â–µ**)
4. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ **Local Storage** ‚Üí `https://admin.b2broundtable.ru`
5. –ù–∞–π–¥–∏—Ç–µ –∫–ª—é—á `access_token` –∏–ª–∏ `token`
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Console –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://admin.b2broundtable.ru/ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Console**
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```javascript
   localStorage.getItem('access_token')
   ```
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Network tab

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://admin.b2broundtable.ru/ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Network**
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
5. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `/api/v1/auth/telegram_oauth` –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π API –∑–∞–ø—Ä–æ—Å
6. –í Headers ‚Üí Request Headers –Ω–∞–π–¥–∏—Ç–µ `Authorization: Bearer <token>`
7. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (–±–µ–∑ —Å–ª–æ–≤–∞ "Bearer")

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
ssh vending-prod
cd /opt/vending-admin-v2
./test_new_endpoints.sh <–í–ê–®_JWT_–¢–û–ö–ï–ù>
```

### –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
# –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞
curl -H "Authorization: Bearer <–í–ê–®_JWT_–¢–û–ö–ï–ù>" \
  "https://admin.b2broundtable.ru/api/v1/analytics/sales/summary?from_date=2026-01-01&to_date=2026-01-25"
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–∞–π—Ç–µ

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ https://admin.b2broundtable.ru/**
2. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. **–û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∑–∞–ø—Ä–æ—Å—ã:**
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/v1/users` (–±–µ–∑ `/v1/users`)
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/v1/business/...` (–±–µ–∑ `/v1/business/...`)
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/v1/analytics/...` (–±–µ–∑ `/v1/analytics/...`)
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/v1/sync/...` (–±–µ–∑ `/v1/sync/...`)

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console:**
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ —Ç–∏–ø–∞ `404 Not Found` –¥–ª—è –Ω–æ–≤—ã—Ö endpoints
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è `/api/v1/api/v1`

---

## üìù –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### Frontend:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –≤ API —Ñ–∞–π–ª–∞—Ö (—É–±—Ä–∞–Ω `/v1/` –≥–¥–µ –Ω—É–∂–Ω–æ)
- –£–ª—É—á—à–µ–Ω —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ API prefix
- –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è batch –æ–ø–µ—Ä–∞—Ü–∏–π –∏ clone –º–∞—Ç—Ä–∏—Ü—ã

### Backend:
- 8 –Ω–æ–≤—ã—Ö endpoints –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- –í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç owner-—Ä–æ–ª–∏ (–∫—Ä–æ–º–µ –ø—É–±–ª–∏—á–Ω—ã—Ö)

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** ‚úÖ
