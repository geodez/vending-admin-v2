# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

**–î–∞—Ç–∞:** 2026-01-25  
**–í–µ—Ç–∫–∞:** `test/improvement-plan-implementation`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### 1. –î–µ–ø–ª–æ–π Backend
- ‚úÖ –í–µ—Ç–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Health check –ø—Ä–æ—Ö–æ–¥–∏—Ç: `{"status":"healthy"}`
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

### 2. –î–µ–ø–ª–æ–π Frontend
- ‚úÖ API prefix check –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Frontend —Å–æ–±—Ä–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è `/api/v1/api/v1`

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö endpoints

**–í—Å–µ –Ω–æ–≤—ã–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:**

1. ‚úÖ `GET /api/v1/analytics/sales/summary` - –¥–æ—Å—Ç—É–ø–µ–Ω (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
2. ‚úÖ `GET /api/v1/analytics/sales/margin` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
3. ‚úÖ `GET /api/v1/analytics/owner-report/daily` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
4. ‚úÖ `GET /api/v1/analytics/owner-report/issues` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
5. ‚úÖ `GET /api/v1/expenses/analytics` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
6. ‚úÖ `GET /api/v1/expenses/categories` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
7. ‚úÖ `POST /api/v1/mapping/button-matrices/{id}/items/batch` - –¥–æ—Å—Ç—É–ø–µ–Ω (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
8. ‚úÖ `POST /api/v1/mapping/button-matrices/{id}/clone` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `"Not authenticated"` –≤–º–µ—Å—Ç–æ `404 Not Found`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã.

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö endpoints (—Ä–µ–≥—Ä–µ—Å—Å–∏—è)
- ‚úÖ `GET /api/v1/analytics/overview` - —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ endpoints

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å JWT —Ç–æ–∫–µ–Ω–æ–º

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–µ–Ω JWT —Ç–æ–∫–µ–Ω:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/vending-admin-v2
./test_new_endpoints.sh <JWT_TOKEN>
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Playwright

–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã (–µ—Å–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ UI)

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/vending-admin-v2/backend
docker compose -f docker-compose.prod.yml logs app --tail=100 -f
```

---

## ‚úÖ –í—ã–≤–æ–¥—ã

1. **–î–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ù–æ–≤—ã–µ endpoints –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã** - –≤—Å–µ 8 endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
3. **–†–µ–≥—Ä–µ—Å—Å–∏–∏ –Ω–µ—Ç** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
4. **Frontend —Å–æ–±—Ä–∞–Ω** - API prefix check –ø—Ä–æ—Ö–æ–¥–∏—Ç
5. **–ù–µ—Ç –æ—à–∏–±–æ–∫** - –ª–æ–≥–∏ —á–∏—Å—Ç—ã–µ

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ:
1. –ü–æ–ª—É—á–∏—Ç—å JWT —Ç–æ–∫–µ–Ω (—á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ API)
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ Playwright

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ —Å–º–µ—Ä–∂–∏—Ç—å –≤ main!** ‚úÖ
